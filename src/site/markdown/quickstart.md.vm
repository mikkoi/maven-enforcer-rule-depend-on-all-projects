Quickstart
==========

This quickstart shows how to configure the Maven Enforcer Plugin to use the `${project.artifactId}` rule in a multimodule build.

Prerequisites
-------------

1. Maven 3.x or later.
2. The rule artifact installed in your local repository or available from a remote repository.

Usage
-----

1. Add the Maven Enforcer Plugin to the project where you want to enforce the rule.
2. Configure the rule inside the plugin configuration.
3. Run the Enforcer Plugin during your build or call it manually.

Example configuration
---------------------

Add the following snippet to the `build` section of the POM where you want the rule to run:

    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>3.6.2</version>
        <dependencies>
            <dependency>
                <groupId>${project.groupId}</groupId>
                <artifactId>${project.artifactId}</artifactId>
                <version>${project.version}</version>
            </dependency>
        </dependencies>
        <executions>
            <execution>
                <id>depend-on-all-projects</id>
                <phase>validate</phase>
                <goals>
                    <goal>enforce</goal>
                </goals>
                <configuration>
                    <rules>
                        <dependOnAllProjects>
                            <includes>
                                <include>main-*</include>
                            </includes>
                            <excludes>
                                <exclude>main-project-excluded</exclude>
                                <exclude>main-project-excluded-*:*:pom</exclude>
                            </excludes>
                            <includeRootProject>false</includeRootProject>
                            <errorIfUnknownProject>true</errorIfUnknownProject>
                        </dependOnAllProjects>
                    </rules>
                </configuration>
            </execution>
        </executions>
    </plugin>

Run the rule
------------

Execute the rule with:

    mvn enforcer:enforce

Or run the full build to execute the plugin as part of the lifecycle:

    mvn verify

Notes
-----

1. By default, all reactor projects are considered unless `includes` or `excludes` are specified.
2. Use the `includes` and `excludes` configuration parameters to control which projects are required as dependencies.
3. Set `includeRootProject` to `true` to include the root project in the dependency list.
4. Enable `errorIfUnknownProject` to fail the build when an include or exclude references a project not present in the current reactor.
